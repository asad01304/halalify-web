{
  "name": "express-form2",
  "version": "1.2.0",
  "description": "Form validation and data filtering for Express( compatible with COKE )",
  "keywords": [
    "form",
    "validator",
    "validation",
    "coke",
    "express"
  ],
  "author": {
    "name": "Dan Dean",
    "email": "@dandean",
    "url": "http://dandean.com"
  },
  "dependencies": {
    "inflection": "1.2.3",
    "node.extend": "1.0.0",
    "validator": "0.4.19"
  },
  "devDependencies": {
    "express": "2.5.10",
    "expresso": "0.9.2"
  },
  "scripts": {
    "test": "expresso"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/dreamerslab/express-form2.git"
  },
  "contributors": [
    {
      "name": "dreamerslab",
      "email": "ben@dreamerslab.com"
    },
    {
      "name": "Marc Harter",
      "email": "wavded@gmail.com"
    },
    {
      "name": "Sugarstack",
      "email": "@sugarstack"
    }
  ],
  "main": "index",
  "engines": [
    "node >= 0.6.0"
  ],
  "licenses": [
    {
      "type": "MIT",
      "url": "http://en.wikipedia.org/wiki/MIT_License"
    }
  ],
  "readme": "# Express Form2\n\nExpress Form provides data filtering and validation as route middleware to your Express applications.\n\n\n\n## Requires\n\nCheckout `package.json` for dependencies.\n\n\n\n## Installation\n\nInstall express-form2 through npm\n\n    npm install express-form2\n\n\n\n## API\n\n- field( name ).isArray( msg );\n- field( name ).isAlpha( msg );\n- field( name ).isAlphanumeric( msg );\n- field( name ).isDate( msg );\n- field( name ).isDecimal( msg );\n- field( name ).isFloat( msg );\n- field( name ).isNumeric( msg );\n- field( name ).isInt( msg );\n- field( name ).isNull( msg );\n- field( name ).notNull( msg );\n- field( name ).isCreditCard( msg );\n- field( name ).isEmail( msg );\n- field( name ).isIP( msg );\n- field( name ).isLowercase( msg );\n- field( name ).isUppercase( msg );\n- field( name ).isUrl( msg );\n- field( name ).isUUID( version );\n- field( name ).required( msg );\n- field( name ).notEmpty( msg );\n- field( name ).contains( val, msg );\n- field( name ).notContains( val, msg );\n- field( name ).is( pattern, modifiers, msg );\n- field( name ).regex( pattern, modifiers, msg );\n- field( name ).not( pattern, modifiers, msg );\n- field( name ).notRegex( pattern, modifiers, msg );\n- field( name ).isIn( opt, msg );\n- field( name ).notIn( opt, msg );\n- field( name ).equals( eql, msg );\n- field( name ).isAfter( date, msg );\n- field( name ).isBefore( date, msg );\n- field( name ).len( min, max, msg );\n- field( name ).max( val, msg );\n- field( name ).min( val, msg );\n- field( name ).maxLength( val, msg );\n- field( name ).minLength( val, msg );\n- field( name ).custom( func, msg );\n- field( name ).ifNull( replace );\n- field( name ).entityDecode();\n- field( name ).entityEncode();\n- field( name ).ltrim( chars );\n- field( name ).rtrim( chars );\n- field( name ).toFloat();\n- field( name ).toInt();\n- field( name ).toBoolean();\n- field( name ).toBooleanStrict();\n- field( name ).trim( chars );\n- field( name ).xss( opt );\n- field( name ).toArray();\n- field( name ).toUpper();\n- field( name ).toLower();\n- field( name ).truncate( len );\n\n\n\n## Usage\n\n### Example\n\n    var form    = require( 'express-form' );\n    var field   = form.field;\n    var express = require( 'express' );\n    var app     = express.createServer();\n\n    app.configure( function(){\n      app.use( express.bodyDecoder());\n      app.use( app.router );\n    });\n\n    app.post(\n\n      // Route\n      '/user',\n\n      // Form filter and validation middleware\n      form(\n        field( 'username' ).trim().required().is( /^[a-z]+$/ ),\n        field( 'password' ).trim().required().is( /^[0-9]+$/ ),\n        field( 'email' ).trim().isEmail()\n      ),\n\n      // Express request-handler now receives filtered and validated data\n      function( req, res ){\n        if( !req.form.isValid ){\n          // Handle errors\n          console.log( req.form.errors );\n        }else{\n          // Or, use filtered form data from the form object:\n          console.log( 'Username:', req.form.username );\n          console.log( 'Password:', req.form.password );\n          console.log( 'Email:', req.form.email );\n        }\n      }\n    );\n\n\n\n### Module\n\nThe Express Form **module** returns an Express [Route Middleware](http://expressjs.com/guide.html#Route-Middleware) function. You specify filtering and validation by passing filters and validators as arguments to the main module function. For example:\n\n    var form = require( 'express-form' );\n\n    app.post( '/user',\n\n      // Express Form Route Middleware: trims whitespace off of\n      // the `username` field.\n      form( form.field( 'username' ).trim()),\n\n      // standard Express handler\n      function ( req, res ){\n        // ...\n      }\n    );\n\n\n\n#### http.ServerRequest.prototype.form\n\nExpress Form adds a `form` object with various properties to the request.\n\n    isValid -> Boolean\n\n    errors  -> Array\n\n    flashErrors(name) -> undefined\n\n        Flashes all errors. Configurable, enabled by default.\n\n    getErrors(name) -> Array or Object if no name given\n    - fieldname (String): The name of the field\n\n        Gets all errors for the field with the given name.\n\n        You can also call this method with no parameters to get a map of errors for all of the fields.\n\n    Example request handler:\n\n    function ( req, res ){\n      if( !req.form.isValid ){\n        console.log( req.form.errors );\n        console.log( req.form.getErrors( 'username' ));\n        console.log( req.form.getErrors());\n      }\n    }\n\n\n\n#### Options / Configuration\nExpress Form has various configuration options, but aims for sensible defaults for a typical Express application.\n\n    form.configure(options) -> self\n    - options (Object): An object with configuration options.\n\n    flashErrors (Boolean): If validation errors should be automatically passed to Express’ flash() method. Default: true.\n\n    autoLocals (Boolean): If field values from Express’ request.body should be passed into Express’ response.locals object. This is helpful when a form is invalid an you want to repopulate the form elements with their submitted values. Default: true.\n\n    Note: if a field name dash-separated, the name used for the locals object will be in camelCase.\n\n    dataSources (Array): An array of Express request properties to use as data sources when filtering and validating data. Default: [\"body\", \"query\", \"params\"].\n\n    autoTrim (Boolean): If true, all fields will be automatically trimmed. Default: false.\n\n    passThrough (Boolean): If true, all data sources will be merged with `req.form`. Default: false.\n\n    errorCodeOnly (Boolean): If true the error msg will only return error code.\n    Default: false.\n\n\n\n### Fields\n\nThe `field` property of the module creates a filter/validator object tied to a specific field.\n\n    var form  = require( 'express-form' );\n    var field = form.field;\n\n    field( fieldname[, label ]);\n\nYou can access nested properties with either dot or square-bracket notation.\n\n    field( 'post.content' ).minLength( 50 );\n    field( 'post[ user ][ id ]' ).isInt();\n    field( 'post.super.nested.property' ).required();\n\nSimply specifying a property like this, makes sure it exists. So, even if `req.body.post` was undefined, `req.form.post.content` would be defined. This helps avoid any unwanted errors in your code.\n\nThe API is chainable, so you can keep calling filter/validator methods one after the other:\n\n    field( 'username' ).trim().toLower().truncate( 5 ).required().isAlphanumeric();\n\n## Sanitization / Filters\n\n### field( name ).ifNull( replace );\n    ', undefined and null get replaced by `replacement`\n\n### field( name ).entityDecode();\n    Decode HTML entities\n\n### field( name ).entityEncode();\n    Encodes HTML entities\n\n### field( name ).ltrim( chars );\n### field( name ).rtrim( chars );\n### field( name ).toFloat();\n    Number\n\n### field( name ).toInt();\n    Number, rounded down\n\n### field( name ).toBoolean();\n    Boolean from truthy and falsy values. True unless str = '0', 'false', or str.length == 0\n\n### field( name ).toBooleanStrict();\n    Only true, 'true', 1 and '1' are `true`. False unless str = '1' or 'true'\n\n### field( name ).trim( chars );\n    Trim optional `chars`, default is to trim whitespace ( \\r\\n\\t\\s )\n\n### field( name ).xss( opt );\n    Remove common XSS attack vectors from text ( true from images )\n\n### field( name ).toArray();\n    Using the toArray() flag means that field always gives an array. If the field value is an array, but there is no flag, then the first value in that array is used instead.\n\n        This means that you don't have to worry about unexpected post data that might break your code. Eg/ when you call an array method on what is actually a string.\n\n        field( 'project.users' ).toArray(),\n        // undefined => [], '' => [], 'q' => [ 'q' ], [ 'a', 'b' ] => [ 'a', 'b' ]\n\n        field( 'project.block' ),\n        // project.block : [ 'a', 'b' ] => 'a'. No 'toArray()', so only first value used.\n\n        In addition, any other methods called with the array method, are applied to every value within the array.\n\n        field( 'post.users' ).toArray().toUpper()\n        // post.users : [ 'one', 'two', 'three' ] => [ 'ONE', 'TWO', 'THREE' ]\n\n### field( name ).toUpper();\n### field( name ).toLower();\n### field( name ).truncate( len );\n    Chops value at (length - 3), appends `...`\n\n## Validations\n\n**Validation messages**: each validator has its own default validation message. These can easily be overridden at runtime by passing a custom validation message to the validator. The custom message is always the **last** argument passed to the validator.\n\nUse '%s' in the message to have the field name or label printed in the message:\n\n    field( 'username' ).required()\n    // -> 'username is required'\n\n    field( 'username' ).required( 'What is your %s?' )\n    // -> 'What is your username?'\n\n    field( 'username', 'Username' ).required( 'What is your %s?' )\n    // -> 'What is your Username?'\n\n> By type\n\n### field( name ).isArray( msg );\n### field( name ).isAlpha( msg );\n### field( name ).isAlphanumeric( msg );\n### field( name ).isDate( msg );\n    Uses Date.parse() - regex is probably a better choice\n\n### field( name ).isDecimal( msg );\n### field( name ).isFloat( msg );\n    Alias for isDecimal\n\n### field( name ).isNumeric( msg );\n### field( name ).isInt( msg );\n    isNumeric accepts zero padded numbers, e.g. '001', isInt doesn't\n\n### field( name ).isNull( msg );\n### field( name ).notNull( msg );\n\n> By format\n\n### field( name ).isCreditCard( msg );\n    Will work against Visa, MasterCard, American Express, Discover, Diners Club, and JCB card numbering formats\n\n### field( name ).isEmail( msg );\n### field( name ).isIP( msg );\n### field( name ).isLowercase( msg );\n### field( name ).isUppercase( msg );\n### field( name ).isUrl( msg );\n    Accepts http, https, ftp\n\n### field( name ).isUUID( version );\n    Version can be 3 or 4 or empty, see http://en.wikipedia.field( name ).org/wiki/Universally_unique_identifier\n\n> By content\n\n### field( name ).required( msg );\n    Checks that the field is present in form data, and has a value.\n\n### field( name ).notEmpty( msg );\n    Checks if the value is not just whitespace.\n\n### field( name ).contains( val, msg );\n    - val (String): The value to test for.\n\n      Checks if the field contains `value`.\n\n### field( name ).notContains( val, msg );\n    - value (String): A value that should not exist in the field.\n\n        Checks if the field does NOT contain `value`.\n\n### field( name ).is( pattern, modifiers, msg );\n    Alias for regex()\n\n### field( name ).regex( pattern, modifiers, msg );\n    regex( pattern[, modifiers[, message ]])\n    - pattern (RegExp|String): RegExp (with flags) or String pattern.\n    - modifiers (String): Optional, and only if `pattern` is a String.\n    - message (String): Optional validation message.\n\n        alias: is\n\n        Checks that the value matches the given regular expression.\n\n        Example:\n\n        field( 'username' ).is( '[a-z]', 'i', 'Only letters are valid in %s' );\n        field( 'username' ).is( /[a-z]/i, 'Only letters are valid in %s' );\n\n### field( name ).not( pattern, modifiers, msg );\n    Alias for notRegex()\n\n### field( name ).notRegex( pattern, modifiers, msg );\n    notRegex( pattern[, modifiers[, message ]])\n    - pattern (RegExp|String): RegExp (with flags) or String pattern.\n    - modifiers (String): Optional, and only if `pattern` is a String.\n    - message (String): Optional validation message.\n\n        alias: not\n\n        Checks that the value does NOT match the given regular expression.\n\n        Example:\n\n        field( 'username' ).not( '[a-z]', 'i', 'Letters are not valid in %s' );\n        field( 'username' ).not( /[a-z]/i, 'Letters are not valid in %s' );\n\n### field( name ).isIn( opt, msg );\n    Accepts an array or a string\n\n### field( name ).notIn( opt, msg );\n    Accepts an array or a string\n\n### field( name ).equals( eql, msg );\n    equals( value [, message])\n    - value (String): A value that should match the field value OR a fieldname\n                      token to match another field, ie, `field::password`.\n\n        Compares the field to `value`.\n\n        Example:\n        field( 'username' ).equals( 'admin' );\n\n        field( 'password' ).is( /^\\w{6,20}$/ );\n        field( 'password_confirmation' ).equals( 'field::password' );\n\n### field( name ).isAfter( date, msg );\n    Argument is optional and defaults to today\n\n### field( name ).isBefore( date, msg );\n    Argument is optional and defaults to today\n\n### field( name ).len( min, max, msg );\n    For both str & arr, max is optional\n\n### field( name ).max( val, msg );\n### field( name ).min( val, msg );\n### field( name ).maxLength( val, msg );\n### field( name ).minLength( val, msg );\n### field( name ).custom( func, msg );\n    custom( function[, message ])\n    - function (Function): A custom filter or validation function.\n\n        This method can be utilised as either a filter or validator method.\n\n        If the function throws an error, then an error is added to the form. (If `message` is not provided, the thrown error message is used.)\n\n        If the function returns a value, then it is considered a filter method, with the field then becoming the returned value.\n\n        If the function returns undefined, then the method has no effect on the field.\n\n        Examples:\n\n        If the `name` field has a value of 'hello there', this would\n        transform it to 'hello-there'.\n\n        field( 'name' ).custom( function ( value ){\n          return value.replace( /\\s+/g, '-' );\n        });\n\n        Throws an error if `username` field does not have value 'admin'.\n\n        field( 'username' ).custom( function ( value ){\n            if(value !== 'admin' ){\n              throw new Error( '%s must be `admin`.' );\n            }\n        });\n\n## Error Code\n\n- By type\n    - 10 : isArray\n    - 11 : isAlpha\n    - 12 : isAlphanumeric\n    - 13 : isDate\n    - 14 : isDecimal\n    - 14 : isFloat\n    - 15 : isNumeric\n    - 16 : isInt\n    - 17 : isNull\n    - 18 : notNull\n\n- By format\n    - 20 : isCreditCard\n    - 21 : isEmail\n    - 22 : isIP\n    - 23 : isLowercase\n    - 24 : isUppercase\n    - 25 : isUrl\n    - 26 : isUUID\n\n- By content\n    - 30  : required\n    - 31  : notEmpty\n    - 32  : contains\n    - 33  : notContains\n    - 34  : is\n    - 34  : regex\n    - 35  : not\n    - 35  : notRegex\n    - 36  : isIn\n    - 37  : notIn\n    - 38  : equals\n    - 39  : isAfter\n    - 310 : isBefore\n    - 311 : len\n    - 312 : max\n    - 312 : maxLength\n    - 313 : min\n    - 313 : minLength\n    - 0   : custom\n\n\n\n## Runing Tests\n\n    npm install expresso\n    cd /path/to/the/project/root\n    expresso\n\n\n\n## Credits\n\nCurrently, Express Form uses many of the validation and filtering functions provided by Chris O'Hara's [node-validator]( https://github.com/chriso/node-validator ).\n\n\n\n## License\n\n(The MIT License)\n\nCopyright (c) 2011 dreamerslab &lt;ben@dreamerslab.com&gt;\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software' ), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n",
  "_id": "express-form2@1.2.0",
  "dist": {
    "shasum": "efb9ca6132715da3df669a8a6ef786afc3570e8e"
  },
  "_from": "express-form2@1.2.0"
}
